Goals: Art, Project development pipline structure (learning to reuse code, streamline things)
-Manage camera resolution

Goal: Release the 40 wave mode, in one area

Next time : ask for henry for a book about OS, it apparenlty has one of his favorite quotes
join icpt team or something programming team

Repeatable architectures nad reproducable builds
Computer graphics, 
everything flow from underlying data structures, how i model them is how algorithms work...
Design document; design diagram

Important notes: 7/1 for optimizing
idea: remove collider on tiles and replace with a ray cast function to not need colliders?... but right now fps is fine

Questions:
-Is towerInfo.TowerInfo.whatever expensive?
-BuildingStructureHandler, is using static being bad?
-Shopclass abusing singelton with BuyItme? should use event,
-Shopclass how to like check if static instance exist like with exceptions or something...
--try get? debug error, never use debugger tbh
-Lot of my system involves me not forgetting cvertain things. i just get errors? just 

--My player tower script userlogic i think has script that returns its SO but how could i check it?

--My tower detruction call multiple other object kidna like shopclass using many singletons...
-Going to do this system atm, have bullet prefab with emptpy variables, when i spawn one it will get data and get reference to it is this expensive? I don't think it a big deal in my game since object pooling but 

-Is i using virtual wrong, like requring the default implentation as well? 

-Learn design patterns more?
-Devops vs software engineer...

applying more boundaries
========
5/31/2023
--------

Resolution management: https://www.youtube.com/watch?v=JRnNqQ2wbOU


========
6/5/2023
--------
-Things to do: How to place object on top of tile, but only on certain tiles... (DONE)
Shop

NOTE: Make sure there is tile covering everywhere, I don't see how player could click on not a tile in game

UI:
Main UI
---------
Health, Currency, Fastfoward

Tower UI
---------
Health, Damage, Sell Cost, Upgrade

Tower Upgrade System
Districts?: If certain towers are built together than bonuses can apply
Support Towers

How many towers in game? 35, but a lot of upgrades, 5 upgrades??? 

========
6/6/2023
--------
Will have one purchasing manager but the shops will be different when player moves to new area
The create items function (just like in the 'ShopGame') will be used to add elements in, add tabs for new towers in specific areas (this for later)

Need to have camera movement with mouse

Conditions for new towers, add towers in through scripts, codemonkey way.  This will help with adding towers the scroll bar and spawning towers on grid

Need to play that isometric tower defense game again, to see how they did it


========
6/7/2023
--------
need to add camera panning with mouse

Thinking about how to add items to the ShopList and for Spawning.  How do i set up GameAssetsHolderManager, dictionary with SO?

Will upgraded towers be their own SO?
When will shop add new items?  Just based on player currency?  Wave number?

Shop currently works

!!Need to get CodeMonkey Utilities script thing


What will enemies be like, simple tower that shoots one thing to closest player tower and another tower that is aoe
This will be reusing methods for the player tower since they also shoot the same way
EnemyAI Path will be a prefab with a script on it, just attach it to all enemies in the certain zone


So enemy towers are like real gameobjects that can float along, have to test that.  They will have same stats as tower
Player towers are just tiles, upgrades are new tiles or just replacing the sprite?  How does this relate to the SO?  I need SO for sure

I am thinking, tile initially gets data from SO... all the data including sprites.  When the player clicks on that tile to upgrade and stuff =>
=> then it will look at SO for the new upgraded sprite

Enemy towers will just have gameobject sprite as their image, lets just give them an SO

So all the basic info towers have will be struct.  The player tower will have additional information such as price buildspace and such


))Scope creep?  Lanes that are 3x3 so enemies can have 3x3 towers? or just several 1x1 towers? 


========
6/8/2023
--------
Watched video to understand tilemap more: https://www.youtube.com/watch?v=_TY0F7Zm6Lc

Will make 40 level wave prototype without URP.  Will work on upgrading later

Going to add mouse panning and try to make tower functional with enemies too

Tilemap Optimization: Put unity tiles in individual mode while editoring but put it back to chunk when buildilng...
- ALSO put the tiles in a sprite atlas or something....

Have shop glow new tower when player gets cetain amount of currency
Have to manually set tiles to have to be on certain layer in order for blocks to look like they are behind or infront of a wall

Made shop work and camera work...

How is player gonna click on UI without the camera moving all over the place?  Maybe have player need to press a button that let games know okay, move camera?

========
6/9/2023
--------
make basic tower shoot, make placing tower work, make shop button work, make description work, make adding towers work (also adding the notification of a new tower), make wave system somewhere (including spawner and figure out how waves work...)

Not sure if LevelHandler Scritp will be the best but can refactor later



========
6/10/2023
--------
Make tower show radius, do i have to manually tell game where the center of the tower is?

I think I do, will have to have two towers, square and notsquare. 		

Things to do:

make tower radius with 1x1 tower
make basic tower shoot, 
make placing tower work (multiple tile take up),
make tower radius with other tower sizes


make shop button work, 
make description work, 
make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)


THINGS TO FOCUS ON:
Spawn only one ring, or figureout some kinda of system to handle that.  Need deslect thing to work

Make a second tower because hover thing is making things complicated


Tower ofo same time not working for some reason... I think i need tilebase reference, not if towertile is same


========
6/11/2023
--------
Things to do:

make tower radius with 1x1 tower (DONE)
make basic tower shoot, 
make placing tower work (multiple tile take up),
make tower radius with other tower sizes


make shop button work, 
make description work, 
make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)


THINGS TO FOCUS ON:
Spawn only one ring, or figureout some kinda of system to handle that.  Need deslect thing to work

Make a second tower because hover thing is making things complicated

Tower ofo same time not working for some reason... I think i need tilebase reference, not if towertile is same

FINISHED THE THINGS TO FOCUS ON, used a helper function



https://youtu.be/0x4EigFnWws?t=495 i think this will help me with adding tower thingy thingy or look up code monkey as well



========
6/12/2023
--------


make basic tower shoot, 
make placing tower work (multiple tile take up),
make tower radius with other tower sizes


make shop button work, 
make description work, 
make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)


Wait how do i even make tower hit closest thing correctly in a 2d environment?  Okay having 2d sprite at angle is my solution kinda 

Okay i have attackhandler on towerstruct but i think can refactor later for support towers
Probably have abstract class of basic towerradiusmanager and then classes for attacking or supporting
Base abstract class is just get things in radius?

Need to change attack radius to be overlapping the actual circle. Spawn the circle with the attack handling sript on it.  Maybe play a little animation when building tower to give some time to spawn

Okay so i fixed radius thing


========
<<<<<<< HEAD
6/13/2023
--------
make basic tower shoot, also thinking about how to destroy tower
make placing tower work (multiple tile take up),
=======
6/12/2023
--------
make basic tower shoot, 
make placing tower work (multiple tile take up),
make tower radius with other tower sizes


make shop button work, 
make description work, 
make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)


Maybe have a mechanic where player can send an airplane to uh send bombs to heal player towers or damage enemies
Change camera size?

Need to add spawn point of bullets.  Maybe cool for towers with multiple spawn points

Gonna see if i can make towers preplaced in editor without casuing error, it annoying for testing and probably future feature

Redo code: Turns out, tile, is not a good place to have logic in
Tower and radius on the cursor when player buying will be a seperate object...

Need to go on website called the Medium to see how i can make tiles store individual data...


Okay. Maybe this, have grid handler handle sprites but spawn in the radius destroying thing there.
Have to add custom hitbox to player towers that allow enemies to hit the player towers and allow player to destroy them

I think spawning radius with other towers not issue since it all be custom

Destroy tower should be a menu option actually, when clicking on it.
Made helper function to destroy any tile at specific location, used in TowerLogicHandler and in destroying tower in the menu

Need to work on shop so i can make mouse switch from buildng mode to just clicking mode...



========
6/14/2023
--------

REVAMP: Make game entergunegon 2d look but its actually 3d

The camera will be rotated to look isometric and sprites will have to be isometric as well, not sure how it will look when tower 
which will be issue at all angles


Review what I have done: Camera, UI

Implementing Old Systems back into this new revamp

Okay done...

Try to do the new tile system with spawning gameobjects instead of the dumb map
I wonder how I can do elevated layers but worry about that later, can just spawn tiles on their or put them there manually

Okay need to learn more about optimizing rn, learn unity occulsion culling
When player go to new area, it will have to be unity dots i guess

Need to make every other tile a different color bvecause grahical bug, colliders touching each other or something...


Things to do:

make shop button work, 
make description work, 
Make placing tower work (along with radius management, showing it when placing and lcicking and stuff)

make basic tower shoot, also thinking about how to destroy tower
make placing tower work (multiple tile take up),
radius on tower bigger than 1x1


make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)

========
6/15/2023
--------

Things to do:

make description work, 
Make placing tower work (along with radius management, showing it when placing and lcicking and stuff)

make basic tower shoot, also thinking about how to destroy tower
make placing tower work (multiple tile take up),
radius on tower bigger than 1x1

rotate camera with towers interacting how i want


make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)

Had to fix shop menu

========
6/17/2023
--------

Finished shop

Make placing tower work (along with radius management, showing it when placing and lcicking and stuff)

make basic tower shoot, also thinking about how to destroy tower
make placing tower work (multiple tile take up),
radius on tower bigger than 1x1

rotate camera with towers interacting how i want


make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)


Basically rn, working on gamemanager and game states, made the pause and speed up work, distracted from trying to fnish build mode in game

Review codemonkey building tiles thing

========
6/18/2023
--------
So far the only input from player is just using the mouse, and then it will be R to rotate... and escape to escape things...

Need to have multiple sprites for cursor and the prefab in the game in a tower. cursor sprite does not work with an ingame tower sprite

Okay basically finsihed game states..., just some todos for the pause vicotry and gameover screen


When player rotates camera, i guess i gotta just change the sprite to the next rotation versino cause they could have the truned sprite when they turn
an object in the normal view angle



6/20/2023
Forgot to push at main pc so doing what i can

Important to do: when making cursor spirte move it top left a bit so it line up with in game cursor placement

Should ask about having two calsses diffenet script or just one big ol scrip


- Make placing tower work (along with radius management, showing it when placing and lcicking and stuff) along with wierd dimension and radius in center
- Make destroying tower work...

- make basic tower shoot, 
- make wave system somewhere (including spawner and figure out how waves work...)
- make basic enemies
- make enemies shoot...
- make adding towers work (also adding the notification of a new tower), 


rotate camera with towers interacting how i want

Makse base bvuilding handler use mousesystem to allow with the cursor and spawning prefab



========
6/21/2023
--------
Today also fixed up merged things... 

TODO : 

make basic tower shoot, also thinking about how to destroy tower (think about shooting patterns later)
make basic enemies (including them shoot back)

game over and win condition (super basic level win managenemtn)
schedule meeting with Henry AND COMPILE LIST OF QUESTIONS INCLUDING INTERNSHIP PSTUFF TOO JUST IN CASE

figure out save system
make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)

Quality Of Life: Make camera center on tower when clicked on?

Future: 
make moving camera require click so can click stuff near edge, 
make cooler towers (with multiple attack radiuses, how to customize where radius spawns...)
-If multiple attack radiuses, just have two BaseTowerAttackHandler
Make that use of basic polymoprohsm or whaetver

Tower should have a little preview of where it can be placed at... but probably need to work on tower sprites before working on it

ATM can select both player and enemy towers... maybe have it in some encylcaedia or something

Handle bullet travel behavior in tower and damage in tower
Handle bullet sounds explosion animations on bullet

Could i make the bullets be in 3d space to handle the isometric perspective? I think i should

Unity apparently spawning and destryoing item expensive, learn to pool...

Would my projectiles be 3d or 2d, i think 2d cause i can only draw that... but can give 3d collider.....

Reason why layer can be flexible is that enemy towers can support other enemy towers... just like player support player



Tower shooting ideas: hit whatever it touch first, hit specific target no matter what it touches


Make tower shooting async i guess

========
6/22/2023
--------
Tower attack behavior requires me to drag and drop the script into each SO which is fine i guess

So prefabs will need to have their behavior attached along with their tile management thing
Customizing behavior on the individual TowerBehaviorScript

Reserach little more on interfaces...

had to make tirggerenter2d into 3d cause cannot rotate 2d like that...

Should really set up error log messaging... like cause lot of things could go wrong because i forgot ot set up something

Making another script so the attack ariuds handles getting the components and stuff...
Could refactor base tower and enemy tower but do that later.

Instead of layers used tags isnteadf....


Going to refactor now, enemy tower dnot have all things needed cause I tired when copy pasting and not thinking












:To do List:
Make basic tower shoot, also thinking about how to destroy tower (think about shooting patterns later)
make basic enemies (including them shoot back)

game over and win condition (super basic level win managenemtn)
schedule meeting with Henry AND COMPILE LIST OF QUESTIONS INCLUDING INTERNSHIP PSTUFF TOO JUST IN CASE

figure out save system
make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)

Quality Of Life: Make camera center on tower when clicked on?

Future: 
make moving camera require click so can click stuff near edge, 
make cooler towers (with multiple attack radiuses, how to customize where radius spawns...)
-If multiple attack radiuses, just have two BaseTowerAttackHandler
Make that use of basic polymoprohsm or whaetver




========
6/23/2023
--------
Need to add an initalize function to creating towers bvecausae making them a cursor will cause it to shoot while on cursor

Testing make tower shoot


========
6/24/2023
--------
Testing enemy and it now it work

//TODO : Need to setup tower becuase rn the targestlist is nothing on enemy since it not get reference to the child object list

========
6/25/2023
--------
Okay so issue is that the list in SetUpTower gets everything in the list when the cube initialized at first, 
it does not get updated as the list keeps getting updated

Got to learn object pooling and making the grid script run during eidtor time...

To destroy tower, have to work on more descirption info spawn a button that allows player to delete towers
Also figure out how the upgrade system works....

make enemy move through the points

The description info should show the towers health, for enemies, and damage

For now, no mini map

Going to make getting reference to description helper function as all towers gonna just get it and maybe in future other things need description







game over and win condition (super basic level win managenemtn)
schedule meeting with Henry AND COMPILE LIST OF QUESTIONS INCLUDING INTERNSHIP PSTUFF TOO JUST IN CASE

figure out save system
make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)

Quality Of Life: Make camera center on tower when clicked on?

========
6/26/2023
--------

Making description can overflow vertically so have to be careful with my descriptions
Will work on UI design later... kinda hard

Learning c# out reference thing...
-----------------
TODO:
make tower make the selected objects buildable again... 
- idea: static set the object toweerselected in buildingsturcutrehandler, then with tower information, call the destroybuilding or whatever
method in buildingstructurehandler... tower is spawned on top of tile but only y is added with one so can check easily based on tower
location


make clicking tower spawn more info UI correclty...

make enemy move through the points
game over and win condition (super basic level win managenemtn)
schedule meeting with Henry AND COMPILE LIST OF QUESTIONS INCLUDING INTERNSHIP PSTUFF TOO JUST IN CASE


Got to learn object pooling and making the grid script run during eidtor time...


Change helper function to some whatever not static make it monohbeavior so i can just access...
Just made open the thing via menu manager thing...
Kinda of janky design but i cannot figure something out

TODO : The 'Kinda of janky...'

schedule meeting with Henry

figure out save system

but not shooting, make art...
Got to learn object pooling 
game over and win condition (super basic level win managenemtn)

make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)

Quality Of Life: Make camera center on tower when clicked on?


========
6/28/2023	
--------
Had grid duplicating somehow

figure out save system, how to make certain tiles buildable, like how can i design maps... learning about unity editor scripting
how do i limit scripts or like prevent certain things from happening...

Save system what i need to save:
What tiles are not buildable, what towers are on each block, each tower's health and upgrades?, currency, wave level... (just sounds like a lot of dictionaries)
	I was thinking that upgraded towers are their own scriptable objects, their own instance...
	The new towers are different prefabs, every upgrade just have unique upgrades...

but not shooting, make art... BUT UPGRADE TO NEW URP FIRST, just literal cubes
Got to learn object pooling 
game over and win condition (super basic level win managenemtn)

//Based on wave levels...
make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...) (saw video on using points so spawning enemy costs
points and the game just randomly spawn enemies and uses the points)

Upgrade system, just realized that if click on more info for tower, there should be a tab to see the tower upgrades as well, so the UI i have now
is pretty good actually

Quality Of Life: Make camera center on tower when clicked on?

think about how saving will work because the systems is going to need to work with it...
Object pooling, save system, unity editor
 what is bitmasking...




========
6/29/2023	
--------
Figured out object pooling

Fixed rotation bug

Unity

saving is just if have certain tower, store the values in each tower, so dictionary with towers, towers some how store upgrades




========
6/29/2023	
--------

Object pooling, save system, unity editor

Object pooling, each tower will each have their own small pool of bullets, of around like 3 or 4.  I can't imagine why they would need more than that, maybe the really long range towers and projectile is slow...

What is my upgrade system gonna be, like just each upgprade is its own prefab? that can't be right...
Need to use some kind of hashmap or something to store all the upgrades a tower has
- upgrades like BTD6, i guess it depends on what the upgrades do
- if the upgrades fundamentally change the tower then yea it a new tower...





What kind of towers to have in my demo
Player: Basic tower, that can be upgpraded a lot?
	Long range tower
	Artilary tower, chooses where it shoots

Enemies:
	Tower that shoot in straight light
	Shoot in a circle
	Tower that spawns more towers
	Flying tower?
	Underground tower
	Big health tower is like skyscraper that break down into layers
	Fast towers
	
Upgrades for the moment


========
6/30/2023	
--------
2 towers
1 enemy


End goal
12 Towers
5 enemies 

Object pooling, save syste


ChatGPT the unity editor, got building editor script working...
Bug is that it not added to grid handler so can't get the exact tile there... so if fix then can spawn tiles on it...


========
7/1/2023	
--------
Learning how to read profiler, learn how to upgrade to new URP I guess..., make things performant...

Object Pooling
Save system

Upgrade System (with points somehow)



Just realized that i should have enemies be object pooled... 


Notes on profiling... https://www.youtube.com/watch?v=uXRURWwabF4 
-------------------------------
}Budget formula of game fps is 1000ms / target frames per second
60 fps : 16ms
30fps: 32ms

}Profiling in editor can be misleading as editor will consume a lot of budge
Best thing to do is build game and profile in the build
- Make sure development build is checked and autoconnect profiler (as soon build start profiler is connected)

!!! In project settings (under 'Player' but this video from 2020), make sure 'Run in Background' is unchecked

Set frame rate in Unity?
if i do not set it, it is as high as possible in desktop but capped at 30 on mobile


Profiling is time consuming so should be done at certain points of game.  Make sure when profiling to save what i have profiled so i can compare 
in future profiling.  Do not wait till last minute
Profile in sustained mode? 
Smart loading strategy

https://www.youtube.com/watch?v=IrYPkSIvpIw this video is about draw calls, making untiy perform better with models or something
- combine meshes? static meshing, so i can use that on my tiles since they will not be moved
- GPU instancing?


https://www.youtube.com/watch?v=cJEmmvDQx5M this video is with 2d stuff, i think i have to learn Unity Job System

Sprite atlas...
Sprite Sheet Animation...
==========================================


========
7/2/2023	
--------
Towers will consist of 2 game objects, one is tower image with the collider that allows player to click on them and other is the attack behavior
the attack behavior is where the radius will spawn, this is how i can place where the tower radius will spawn... by moving where the
attack behavior is since the radius attack will spawn as child of attack behavior


Make basic game over things...



========
7/3/2023	
--------
Going to upgrade URP cause visuals are unclaer and stuff




========
7/4/2023	
--------
https://www.youtube.com/watch?v=kzJ5QIy-klM

Maybe for rain visuals it just effects the screen and not actual enviornemtn in the game, make me think of hollow knight snow level


========
7/5/2023	
--------
Don't starve together basically lighting style

https://www.youtube.com/shorts/kG-jsuTl1Hw
https://www.youtube.com/shorts/KXahbH6d1V0

https://www.youtube.com/shorts/DE_WSF1H-Ks light performance...


========
7/6/2023	
--------
Just realized that rotating the 1x3 will be annoying, but other ones can be just "symmetrical"

Enemies will be symmetrical...

To copy the don't starve style, everything should be bill boarded, so head on

Everything front on, if change camera rotation then just change to the towers to the side view...
IRotatable...?


Okay, finished learning enough for visuals and some optimizing, going back to goals...
--------------------------
figure out save system

but not shooting, 
make art for tower 
tiles : https://www.youtube.com/watch?v=Y-fDGOqHQZA this video gonna do...
bill boarding
upgrade system
Got to learn object pooling 
game over and win condition (super basic level win managenemtn)

make adding towers work (also adding the notification of a new tower), 
make wave system somewhere (including spawner and figure out how waves work...)

Quality Of Life: Make camera center on tower when clicked on?

========
7/7-9/2023	
--------
Worked on trying to make a system to have tiles added in spector tool to be in a dictionary to work with tile building...
Too a while but it worked

Okay, now try to make game an actual game, all systems should be in place, then work on upgrade and save system 

I have it so alter health is always adding health, so to subtracti the alteramount musr be negtaive


========
7/10/2023	
--------
K so need to object pool now, cause setting up projectile pointl4ess cause spawninv in prefab not gonna work caue set up function will not carry to qa prefab, its a prefab...


==Doing object pooling now... DDOONNEE
this pool system might just have all bullet types in their own folders so spawning new towers can just reuse that bullet, not each tower needs their own pool

Things to do:
---------------
upgrade system, bloons td5 which is just two linear upgrade paths...

Figure out save system

make wave system somewhere (including spawner and figure out how waves work...)
win condition (super basic level win managenemtn), reach round whatever and u win
object pooling for enemies
make unlocking towers work (also adding the notification of a new tower), 

tiles texturing: https://www.youtube.com/watch?v=Y-fDGOqHQZA this video gonna do...
Make different levels


Below is for sequal...
--------
add camera rotation
bill boarding


========
7/11/2023	
--------
Working on skill tree...

Each tower should have their own skills...
Fixed selectionmanager bug (more like understanding my own code that I actually made myself)

Might refactor my stats to follow OneWheelStudio idea, NVM

Going to try my way with array tries kinda of system
----------------------------------------------------
Right now just do array kinda of system but in future use tries

Tower prefab will have component based script (skills component script) that holds all the possible upgrades they could have
-In future the skills component script will be a trie structure and somehow the UI will have to read that, it probably not expensive, like 
its a computer, it can do things fast...
-Also skills component script can be comprised of other smaller classes I guess
skillUI is own class, it will spawn in UI and read the selected tower's skills component script

saving should be easy since it is just how many points in what array i guess...


Have to think what kind of upgrades so i know how the code is architectured a bit
-----------------
Early game path:
Increase stats, change projectile speed

Late game path
Change Tower from one shooters to two shooters, make shooters stronger
-----------------

Nodes, so they hold the function of what to upgrade and whatnot and they can make the next node selectable or not


JK, just doing an array that hold skill classes, if increase value then get the whatever 


(Below is just the other reserach throughout the day)

So following code monkey way:
-------------------------------
Each tower has their own skill tree class
There will be one unique canvas for every type of class, (just use game asset holdler?)..., but the UI will read based on the clicked on tower
Maybe it is just a prefab that can have a single instance somehow...

Menu manager or whatever can handle UI upgrade tree, it will just spawn in the skill tree thing 
-Can do composition for these skill trees

Working on making basic UI for skill tree


To save game, all i need is each tower current health at the start of a wave and location

Here is old note: 'saving is just if have certain tower, store the values in each tower, so dictionary with towers, towers some how store upgrades'


Need to polish game, like attack ranges are not visually correct at all

Work in sequal...
How to make unity UI scale for project scope, make it into its own scene??



========
7/12/2023	
--------
Need to add a max health value cause everything has a max health and a current health

I cannot think of a cleverer way to do this without like revamping my stats system...
Maybe have stats into a dictionary instead, that way can look for certain values and update them...

So what i will do is, add a function somewhere, probably internally in the basetoweruserlogic class that allows it to modify a variable
So the upgradeclass unique to the tower will get the component and just get abstract class (BaseTower whatever) and call that function,
things should work

The function takes in key value pair and tries to update the towers key to the new value...

Since I cannot see dictionaries in Unity... it will be a bit messy to adjust values in inspector and then have it copied in dictionary

IDamageable, no health parameter since it will be covered in the stats dictionary



IMPORTANT NOTE FOR USING VARIABLE OF DYNAMIC
---------------------------------------------
https://forum.unity.com/threads/no-net-4-x-in-player-settings.1242133/
All u have to do in player settings under project settings is 
-Api compatability to .netframework
-scripting backedn IL2CPP

what is dynamic in C# 4 or whatever NOTE: TO use this, go to player settings and need to change the thing above api .netframework from mono to iCCp2 or wahtever
what is params in C# or whatever

---------------------
Save system,
Polishing

make wave system somewhere (including spawner and figure out how waves work...)
win condition (super basic level win managenemtn), reach round whatever and u win
object pooling for enemies
make unlocking towers work (also adding the notification of a new tower), 

tiles texturing: https://www.youtube.com/watch?v=Y-fDGOqHQZA this video gonna do...
Make different levels









Game System Ideas:
12 Towers (including tower upgrade varients).

6 towers can be upgraded to a new tower version
3 towers are just new functionality

14 amount of enemies 

1 Big tower that looks like the droid carrier
2 - another vesrion of big tower
3 - smaller tower 1
4 - smaller tower 2

5 lazer tower X 2
6 AoE circle tower X 2
7 Flying tower X 2
8 Small tower1 (its like smaller tower but normal)
9 Small tower2 
10 Armor tower

11 Lazer Tower Boss (sky scraper)







========
7/13/2023	
--------
Worked on skill tree
Met with henry

========
7/14/2023	
--------
Do i even need singletons?

Too lazy to add in a play button like bloonstd, just gonna make it auto spawn like plants vs zombies

Work on skill tree...
I am just gonna brute force it because i am lazy

What i understand of what i was going to do for my skill tree is that, all possible skill upgrades are on tower
as an array of classes that can be instantiated on the tower

two arrays full of classes

Test tower upgrades
-----------------
Early game path:
Increase stats, change projectile speed

Late game path
Change Tower from one shooters to two shooters, make shooters stronger
-----------------

========
7/15/2023	
--------
Work on upgrade system
Then i guess everything done...

Save system,
Polishing

make wave system somewhere (including spawner and figure out how waves work...)
win condition (super basic level win managenemtn), reach round whatever and u win
object pooling for enemies
make unlocking towers work (also adding the notification of a new tower), 

tiles texturing: https://www.youtube.com/watch?v=Y-fDGOqHQZA this video gonna do...
Make different levels




using System;
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

namespace UpdatedTD
{
    public static class SelectionManager<T> where T : MonoBehaviour, ISelectable
    {
        public static T previousSelectedObject;

        public static bool SelectedSameObject(T selectable)
        {
            //If player clicked on same object
            if (previousSelectedObject != null && previousSelectedObject == selectable)
            {
                return true;
            }

            //First click or clicked on different object
            previousSelectedObject = selectable;
            return false;
        }

        public static void CallDeslectOnPreviousObject()
        {
            if (previousSelectedObject != null) { previousSelectedObject.Deselect(); }
        }
    }
}


Okay trying to fix stupid selection bug... it worked on WorkinOnSkillTree then it no longer wwork...


Find the difference below....
----------------------------------
            if (SelectionManager<BaseTowerUserLogic>.SelectedSameObject(this))
            {
                SelectionManager<PlayerTowerUserLogic>.previousSelectedObject = this;
                GameObject.Find("Handlers").GetComponent<MenusHandler>().EnableMoreInfoUI();
                HelperFunctions.SetDescriptionText("Clicked on me again");
            }
            //First time selecting or this is new selection
            else
            {
                SelectionManager<PlayerTowerUserLogic>.previousSelectedObject = this;
                GameObject.Find("Handlers").GetComponent<MenusHandler>().EnableMoreInfoUI();
                HelperFunctions.SetDescriptionText("First clicked");
            }

----------------------------------

            if (SelectionManager<PlayerTowerUserLogic>.SelectedSameObject(this))
            {
                SelectionManager<PlayerTowerUserLogic>.previousSelectedObject = this;
                GameObject.Find("Handlers").GetComponent<MenusHandler>().EnableMoreInfoUI();
                HelperFunctions.SetDescriptionText("Clicked on me again");
            }
            //First time selecting or this is new selection
            else
            {
                SelectionManager<PlayerTowerUserLogic>.previousSelectedObject = this;
                GameObject.Find("Handlers").GetComponent<MenusHandler>().EnableMoreInfoUI();
                HelperFunctions.SetDescriptionText("First clicked");
            }
----------------------------------

Okay upgrade system in placew

Then i guess everything done...

Save system,
What am i saving:
}Player health
}Player currency
}Towers
}-Tower upgrade counters (call loop function to call upgrade thing...)
}-Tower health
}-Tower location (How does this relate to the tiles as well...)
}Wave Counter
---------------
Polishing

make wave system somewhere (including spawner and figure out how waves work...)
win condition (super basic level win managenemtn), reach round whatever and u win
object pooling for enemies
make unlocking towers work (also adding the notification of a new tower), 

tiles texturing: https://www.youtube.com/watch?v=Y-fDGOqHQZA this video gonna do...
Make different levels


Game System Ideas:
12 Towers (including tower upgrade varients).

6 towers can be upgraded to a new tower version
3 towers are just new functionality

14 amount of enemies 

1 Big tower that looks like the droid carrier
2 - another vesrion of big tower
3 - smaller tower 1
4 - smaller tower 2

5 lazer tower X 2
6 AoE circle tower X 2
7 Flying tower X 2
8 Small tower1 (its like smaller tower but normal)
9 Small tower2 
10 Armor tower

11 Lazer Tower Boss (sky scraper)

========
7/16/2023	
--------
Rest day

========
7/17/2023	
--------
Implement save system


What am i saving:
}Player health
}Player currency
}Towers
}-Tower upgrade counters (call loop function to call upgrade thing...)
}-Tower health
}-Tower location (How does this relate to the tiles as well...)
}Wave Counter
---------------


When maknig art, have to look into sprite atlases, making animations from animatio nsheet and not individual frames...


========
7/18/2023	
--------
Gonna copy save system

Did i just do the repository pattern for my game?  I just like wuuutt
What pattern is unit of work??

To save tower prefab, get tower id from asset manager thing


what is sprite atlas and all the ways to save art graphics whatever



========
7/19/2023	
--------
There will be a level select in my game, but it just like starting at a certain level, i will make levels a new scene i guess...

just like 3 levels ause it 3 hour game

Just realized need new input system for some things, like pressing escape in build mode to cancel building or something...



========
7/21/2023	
--------
Basically have save system uh kinda done: 

Tower save system is each tower having id, and then when loading game, have script that reads the list of towers saved and then call build manager to do it...


//save system testing --

using UnityEngine;
using System.Collections.Generic;
using Newtonsoft.Json;  // Make sure to import the Newtonsoft.Json namespace

public class GameManager : MonoBehaviour
{
    // Sample data
    private int id1 = 1;
    private double[] coordinates1 = { 1.5, 2.0, 3.7 };
    private int integerVariable1 = 10;

    private int id2 = 2;
    private double[] coordinates2 = { 3.0, 1.2, 4.5 };
    private int integerVariable2 = 25;

    private Dictionary<int, DataEntry> data = new Dictionary<int, DataEntry>();

    private void Start()
    {
        // Organize the data in the Dictionary
        data.Add(id1, new DataEntry(coordinates1, integerVariable1));
        data.Add(id2, new DataEntry(coordinates2, integerVariable2));

        // Save the data to a JSON file
        SaveDataToJson();

        // Load the data from the JSON file
        LoadDataFromJson();
    }

    private void SaveDataToJson()
    {
        // Convert the data Dictionary to a JSON string
        string jsonData = JsonConvert.SerializeObject(data, Formatting.Indented);

        // Save the JSON data to a file
        string path = Application.persistentDataPath + "/game_data.json";
        System.IO.File.WriteAllText(path, jsonData);
        Debug.Log("Game data saved to JSON.");
    }

    private void LoadDataFromJson()
    {
        // Load the JSON data from the file
        string path = Application.persistentDataPath + "/game_data.json";
        if (System.IO.File.Exists(path))
        {
            string jsonData = System.IO.File.ReadAllText(path);

            // Deserialize the JSON data back to a Dictionary<int, DataEntry>
            data = JsonConvert.DeserializeObject<Dictionary<int, DataEntry>>(jsonData);

            // Accessing the data
            Debug.Log("Data for id1 - Coordinates: " + string.Join(", ", data[id1].Coordinates));
            Debug.Log("Data for id2 - IntegerVariable: " + data[id2].IntegerVariable);
        }
        else
        {
            Debug.Log("No saved game data found.");
        }
    }
}

[System.Serializable]
public class DataEntry
{
    public double[] Coordinates;
    public int IntegerVariable;

    public DataEntry(double[] coordinates, int integerVariable)
    {
        Coordinates = coordinates;
        IntegerVariable = integerVariable;
    }
}

-- //



i can, work on, making art, how to make terrain in unity....







Save system,
What am i saving:
}Player health
}Player currency
}Towers
}-Tower upgrade counters (call loop function to call upgrade thing...)
}-Tower health
}-Tower location (How does this relate to the tiles as well...)
}Wave Counter
---------------
Polishing

make wave system somewhere (including spawner and figure out how waves work...)
win condition (super basic level win managenemtn), reach round whatever and u win
object pooling for enemies
make unlocking towers work (also adding the notification of a new tower), 

tiles texturing: https://www.youtube.com/watch?v=Y-fDGOqHQZA this video gonna do...
Make different levels





7/23/2022
==
Need to work on

Art, music, sound effects, lighting




========
7/24/2023	
--------
Apparently, you need to also object pool your audio sounds as well.
NVM, u can do that but it probably not necessary


Going to use Unity audio mixer for my audio...

After this game, gonna have to have code in their own packages...

I think, i need to do vector art, that is the solutions (note from 2/27, this is wrong)



========
7/27/2023	
--------
I made the light intensity super high because it dark in game
also, i figured out how to remove the blurry graphics, had to enable antialiasing post processing camera..


So, i think most towers are actually going to take up 2x2 spaces, for some reason, i was trying to scale up all the tiles' sizes even though i could just use the system i have rn instead of trying to mess up everything...


I can make all enemies complete symetrically...

https://www.reddit.com/r/Unity2D/comments/794te8/unity2d_how_to_make_sprite_to_material/ this is how i made my sprite into material, I think this only for the tiles...

so i have made sprite template of the enemy design, i think i can pull off with enemies. interesting style...
NOTE: There will be some rotation on the sprite, Y rotation: 21.647

So it looks good!


========
7/28/2023	
--------
To learn about some post processing

have to learn how to place towers on center, maybe it is like have it as child object??
Deal with rotatoin in sequal


========
7/29/2023	
--------
okay, make enemy shoot back
make unique towers and to fit on center of tiles if like a 2x2 tower or whatever...



Maybe only some enemy towers can fight back...


Future creep: make enemy towers not do damage but disrupt tower placement if possible...
Add platforms, put towers in interesting locations...

should make a 1x1 tower...


(adjusting camera issues below...)
Like bloons, the monkey in shop will be different drawing than actual game OR take like screenshot and use that i guess

11.46063 12.55 = 1.08937

10.82465 10.99 = 0.16535

-17.72638 -14.36 = 3.36638


There is sometimes hard time to click on stuff behind towers...
What i can do is, have two box colliders, one for enemy to hit and then another that if player clicked on it...

Sometimes red square not showing up... idk why, it functions the same, it just not look the same...
FIXED IT, ERROR WAS THAT MY TILES WERE NOT INTEGER POSITIONS FOR SOME REASONS


Okay today: 
added in sprites to work with the tile system
fixed many errors, like tiles not being on int locations causing red squares to not appear correclty
fixed towers not working 


TODO : When clicking on something that not selected object, deselect everything...

rotation visual error, 
I have it so that the button to move camera and rotate button are the same, need to change that...

Player can shoot, it slow
Need barriers so that any bullets that miss will get destroyed

So lazer tower do lot of single target damage

https://www.youtube.com/watch?v=7T-MTo8Uaio


========
7/31/2023	
--------
So to fix the rotation issue, i can have like cooridnates to save the towers to be in, i can just play around when opining the prefab

for the 1x3 like towers, just have a different srptie show, somehow make tower read the direction it is in...

I MADE IT: the tower now shows how much space it takes up...



TODO : 
-When clicking on something that not selected object, deselect everything...

-rotation visual error, 
--make tiles sprite change depending on their DIR... could just stuff it into playertowerSO since square towers always return that they are facing down
-I have it so that the button to move camera and rotate button are the same, need to change that...

-Player can shoot, it slow
-Need barriers so that any bullets that miss will get destroyed

-So lazer tower do lot of single target damage

https://www.youtube.com/watch?v=7T-MTo8Uaio




========
8/1/2023	
--------
cannot click on towers any more...
okay made life qualitites a lot better,

Rotation can be unique for all towers now...

-I have it so that the button to move camera and rotate button are the same, need to change that...

-Player can shoot, it slow
-Need barriers so that any bullets that miss will get destroyed

-So lazer tower do lot of single target damage

https://www.youtube.com/watch?v=7T-MTo8Uaio



Have to make 3 paths for enemy towers to spawn...


To make enemies fly over towers, bombing them,

can make player use money to heal towers...

boss will destroy towers like boss in pvz2

Could make tower show a sphere gizmo or whatever instead of the circle radius, i think that would make much more sense and no more dealing with clipping

https://github.com/Chaser324/unity-wireframe NOTE: NEED TO ATTRIBUTE THIS SO YEAH { TODO : } THIS IS IMPORTANT NO SKIP
USE THIS FOR THE SPHERE RADIUS FOR THE UH FLYING TOWERS...






========
8/2/2023	
--------
make enemy towers,

lazer, circle death


Make enemy spawns with objectpooling

In future, all enemy paths will be 3 x 3 kind of style...


In my game, it will be like plants vs zombies with no pausing for putting towers and thinking 
Though can pause if need to like pause the game. save and exit is just start on certain wave number, wave numbers will just be at certain times like timer

Using action system thing from VSClone for checking enemy deaths... will auto go to next wave if all enemies dead.

So i have a levelmanager, it just keeps track of level and what enemies to spawn at and how much at certain level...
I have wavespawner which just spawns in enemies at whatever location




The attack function is moved to BaseTowerCombatHandler, need to make it wait for SetUpTower called first just incase of errors i guess


========
8/3/2023	
--------
Fixed up with wave manager things..


When upgrading tower healht, it will also heal it...

Destryong player tower should actually just destroy it since having to use it later would not make sense


Okay so the issue with missing refernce to first unit is becuase
when i make the tower go back to the object pool, the target list is not cleared and like all messed up...

Also, when u destroy the player tower, the reference is still like in the thing...



Okay, if an object is destroyed, need to remove it from all lists some how...

Realizing that this 3d on trigger system and putting the targets in list may not be the best way to handle things...


========
8/4/2023	
--------

Changing collision to overlapsphere,
Need way to change the targetting to like bloons

What i have to do is, instead of instantiating with code, have to do it in inspector and then the baseuserlogc can handle it

i think, if i have unique towers that have like two shooting positions, i will just need to make a completely unique script for them...


or maybe, the targetting and the combat handler together and the userlogic can just use function but thorugh all of them...



In this game, towers will not have targetting like in bloons or gemcraft thing
Okay, i will just brute force this and drag in the references in the inspector instead of doing it by code, it is so annoying NVM FIXED IT

need to restrucutre all towers in game to have this object structure

Tower
-UserLogic
-AttackHandling
-Image

THE ENTIRE REASON I REFACTORED WAS BECAUSE WHEN TOWER LEAVES THE ORIGINAL TRIGGER ENTER SYSTEM, IT WOULD LEAD TO MANY ERRORS SINCE DESTRYOING THE TOWER WOULD MEAN THE ORIGINAL TRIGGER ARRAY hAS A MISSING REFERENCE AND CAUSE MANY ERRORS...


========
8/5/2023	
--------
https://www.cgtrader.com/free-3d-models/space/planet/sphere-globe-wire-frame

TODO : VERY IMPORTANT HERE THE LINK ABOVE
Okay need to check if i uh need to crdit this

Okay made it that the wireframe works now, model is a little thick but can change later...

Impleneting first real enemy

Lazer tower

So moving things in this game, might not use rigidbody as that is technically more expensive so i can adjust the movespeed in the EnemyTowerUserLogic with an interface called Islowable or something, maybe other things can be slowed like bullets or idk


Need to figure out how lazer tower determines which way it is going in the axis...

Maybe just make it shoot in all 4 directions cause im lazy

========
8/6/2023	
--------
I am pretty sure i did stuff just forgot to record it

========
8/7/2023	
--------
I think i do not understand coroutines, tryna make lazer tower...

I think tryna do the lazer system now is gonna require multithreading which i do not know yet...

instead have a running loop of damage all idmageable in an array and the lazers just add or remove stuff  from that list...

Then add in enemy circle tower

then add in just simple towers

i now need to polish the game play, make start from level 0 and then makethe spawn waves actually spawn stuff in waves, start with a certain amount of moneyyy, 

then UI, need to build and see if settings can change correclty...

========
8/8/2023	
--------
Worked on wave spawner

polishing game to actually behave like a game, make level 2 first then make tutorial
Need to make waves and make it like bloons where waves will have same enemies...


========
8/9/2023	
--------
Make enemy spawn like pvz



WISDOM TOOTH BREAK DEATH


========
8/15/2023	
--------
So enemy lazer shoots correctly now.. idk why

Okay so when building, i n player settings underneat the other options, there is optino for ICCLPD2 or whatever, i changed it to mono and then building it wor...

THE BUILD WORKS!


Now, need to work on the boring stuff, the pause, game speed, pause UI, stuff like that

Since there will just be one game scene per level and to change to the next level it will return to main menu or prompt to go to next level, each level will have their own unique UI prefab, no need to add it through scene addition



}

MOVING INTO COLLEGE

}

========
8/20/2023	
--------

Back to it again...
Now, need to work on the boring stuff, the pause, game speed, pause UI, stuff like that

Since there will just be one game scene per level and to change to the next level it will return to main menu or prompt to go to next level, each level will have their own unique UI prefab, no need to add it through scene addition




Let just make boring stuff work

Pause menu works and game speed


Make it so that if click on nothing it will deselect, OK DONE BUT IDK if i need to make the shop go away as well...











